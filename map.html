<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>虹织译桥 - 邦典文化体验地图</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; }
    .marker { animation: pulse 2s infinite; }
    @keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:0.6; } }
    /* 弹窗动画 */
    .modal-enter { animation: modalFadeIn 0.3s ease-in-out; }
    @keyframes modalFadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    /* 遮罩层动画 */
    .overlay-enter { animation: overlayFadeIn 0.3s ease-in-out; }
    @keyframes overlayFadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    /* 页面主色调适配虹织译桥项目 */
    :root {
      --primary-indigo: #4338ca;
      --primary-rose: #e11d48;
      --secondary-blue: #3b82f6;
      --light-bg: #f8fafc;
    }
    .bg-primary-indigo { background-color: var(--primary-indigo); }
    .bg-primary-rose { background-color: var(--primary-rose); }
    .text-primary-indigo { color: var(--primary-indigo); }
    .text-primary-rose { color: var(--primary-rose); }
    .border-primary-indigo { border-color: var(--primary-indigo); }
  </style>
</head>
<body class="bg-light-bg font-sans">
  <!-- 导航栏 - 虹织译桥品牌化，页面高亮 -->
  <header class="fixed w-full z-50 py-4 px-5 md:px-8 bg-white shadow-sm">
    <div class="container mx-auto flex justify-between items-center">
      <a href="index.html" class="flex items-center gap-2 text-slate-800">
        <i class="fa fa-scissors text-2xl text-primary-indigo"></i>
        <span class="font-bold text-xl">虹织译桥</span>
      </a>
      <nav class="flex gap-6 text-base">
        <a href="decode.html" class="text-slate-600 hover:text-primary-indigo transition-colors duration-300">文化解码</a>
        <a href="experience.html" class="text-slate-600 hover:text-primary-indigo transition-colors duration-300">沉浸式体验</a>
        <a href="map.html" class="text-primary-indigo font-medium border-b-2 border-primary-indigo pb-1">体验地图</a>
      </nav>
    </div>
  </header>

  <!-- 体验地图核心内容 - 贴合虹织译桥项目定位 -->
  <section class="w-full min-h-screen pt-24 pb-16 px-5 md:px-8">
    <div class="container mx-auto">
      <div class="text-center mb-10">
        <h2 class="text-[clamp(1.8rem,5vw,2.6rem)] font-bold text-primary-indigo mb-3">邦典 · 西藏非遗深度体验地图</h2>
        <p class="text-slate-600 text-lg">解码邦典文化，连接中外心灵，探访百年非遗工坊</p>
        <div class="w-20 h-1 bg-secondary-blue mx-auto mt-4"></div>
      </div>

      <div class="flex flex-col lg:flex-row gap-8 items-center justify-center">
        <!-- 体验地图可视化区域 -->
        <div class="w-full lg:w-1/2 rounded-xl overflow-hidden shadow-xl relative h-[480px]">
          <img src="图片20.png" alt="西藏邦典非遗体验地图" class="w-full h-full object-cover">
          <!-- 拉萨雪域工坊标记 -->
          <div class="absolute top-[30%] left-[25%] marker">
            <div class="w-6 h-6 bg-primary-rose rounded-full border-2 border-white"></div>
            <div class="absolute -bottom-10 left-1/2 -translate-x-1/2 bg-white px-3 py-1 rounded-lg shadow-md text-xs font-medium text-primary-rose">拉萨·雪域邦典工坊</div>
          </div>
          <!-- 日喀则巧手工坊标记 -->
          <div class="absolute bottom-[35%] right-[20%] marker">
            <div class="w-6 h-6 bg-primary-indigo rounded-full border-2 border-white"></div>
            <div class="absolute -bottom-10 left-1/2 -translate-x-1/2 bg-white px-3 py-1 rounded-lg shadow-md text-xs font-medium text-primary-indigo">日喀则·高原巧手工坊</div>
          </div>
        </div>

        <!-- 工坊详情与预约区域 - 贴合虹织译桥工坊定位 -->
        <div class="w-full lg:w-1/2 flex flex-col gap-6 mt-6 lg:mt-0">
          <!-- 拉萨·雪域邦典工坊（传统非遗核心，文化解码+古法工艺） -->
          <div class="bg-white rounded-xl p-6 shadow-lg border border-slate-100">
            <h3 class="text-xl font-bold text-primary-indigo mb-3 flex items-center">
              <i class="fa fa-map-marker text-primary-rose mr-2"></i> 拉萨·雪域邦典工坊
            </h3>
            <p class="text-slate-600 mb-4 text-sm">
              坐落于拉萨八廓街百年老巷，120年邦典制作历史，传承最纯正的藏族传统编织技艺，坚守天然染料与手工编织，是邦典非遗文化的核心传承地，为虹织译桥核心合作传统工坊。
            </p>
            <div class="flex flex-wrap gap-2 mb-4">
              <span class="px-3 py-1 bg-indigo-100 text-primary-indigo text-xs rounded-full">文化解码课</span>
              <span class="px-3 py-1 bg-indigo-100 text-primary-indigo text-xs rounded-full">天然染色工艺</span>
              <span class="px-3 py-1 bg-indigo-100 text-primary-indigo text-xs rounded-full">非遗匠人面对面</span>
              <span class="px-3 py-1 bg-indigo-100 text-primary-indigo text-xs rounded-full">传统编织体验</span>
            </div>
            <div class="text-slate-700 text-sm space-y-2">
              <p><i class="fa fa-location-arrow mr-2 text-slate-500"></i> 地址：拉萨市城关区八廓街108号</p>
              <p><i class="fa fa-clock-o mr-2 text-slate-500"></i> 开放时间：9:00 - 18:00（全年无休，双语导览）</p>
            </div>
            <!-- 点击触发预约弹窗，传入工坊名称 -->
            <button onclick="openModal('雪域邦典工坊')" class="inline-block mt-4 px-5 py-2 bg-primary-indigo text-white rounded-lg text-sm font-semibold hover:bg-indigo-800 transition-colors">立即预约体验</button>
          </div>

          <!-- 日喀则·高原巧手工坊（创新设计核心，数字设计+跨文化美学） -->
          <div class="bg-white rounded-xl p-6 shadow-lg border border-slate-100">
            <h3 class="text-xl font-bold text-primary-rose mb-3 flex items-center">
              <i class="fa fa-map-marker text-primary-rose mr-2"></i> 日喀则·高原巧手工坊
            </h3>
            <p class="text-slate-600 mb-4 text-sm">
              位于日喀则桑珠孜区，虹织译桥核心合作创新工坊，专注邦典传统纹样与现代审美融合，主打数字邦典设计、跨文化美学创作，支持线上设计转实体制作，深受年轻群体与国际游客喜爱。
            </p>
            <div class="flex flex-wrap gap-2 mb-4">
              <span class="px-3 py-1 bg-rose-100 text-primary-rose text-xs rounded-full">邦典创新设计</span>
              <span class="px-3 py-1 bg-rose-100 text-primary-rose text-xs rounded-full">数字邦典制作</span>
              <span class="px-3 py-1 bg-rose-100 text-primary-rose text-xs rounded-full">沉浸式创作</span>
              <span class="px-3 py-1 bg-rose-100 text-primary-rose text-xs rounded-full">跨文化美学沙龙</span>
            </div>
            <div class="text-slate-700 text-sm space-y-2">
              <p><i class="fa fa-location-arrow mr-2 text-slate-500"></i> 地址：日喀则市桑珠孜区珠峰路56号</p>
              <p><i class="fa fa-clock-o mr-2 text-slate-500"></i> 开放时间：9:30 - 19:00（全年无休，跨境预约）</p>
            </div>
            <!-- 点击触发预约弹窗，传入工坊名称 -->
            <button onclick="openModal('高原巧手工坊')" class="inline-block mt-4 px-5 py-2 bg-primary-rose text-white rounded-lg text-sm font-semibold hover:bg-rose-800 transition-colors">立即预约体验</button>
          </div>
        </div>
      </div>

      <!-- 底部品牌化按钮 - 虹织译桥专属 -->
      <div class="text-center mt-12">
        <a href="index.html" class="px-8 py-3 bg-primary-indigo text-white rounded-full font-semibold hover:bg-indigo-800 transition-colors duration-300 inline-flex items-center gap-2">
          <i class="fa fa-home"></i> 回到首页
        </a>
      </div>
    </div>
  </section>

  <!-- 预约弹窗（虹织译桥定制版，贴合邦典体验项目） -->
  <div id="bookingModal" class="fixed inset-0 z-99 hidden">
    <!-- 遮罩层 -->
    <div class="absolute inset-0 bg-black/50 overlay-enter" onclick="closeModal()"></div>
    <!-- 弹窗内容 -->
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-xl shadow-2xl p-6 modal-enter">
      <!-- 弹窗头部 -->
      <div class="flex justify-between items-center mb-5">
        <h3 class="text-xl font-bold text-primary-indigo" id="workshopTitle">预约体验 - 雪域邦典工坊</h3>
        <button onclick="closeModal()" class="text-slate-500 hover:text-slate-800 transition-colors">
          <i class="fa fa-times text-xl"></i>
        </button>
      </div>
      <!-- 预约表单 -->
      <form id="bookingForm" onsubmit="submitForm(event)">
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">姓名</label>
            <input type="text" id="name" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-indigo focus:border-transparent" placeholder="请输入您的姓名" required>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">手机号码</label>
            <input type="tel" id="phone" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-indigo focus:border-transparent" placeholder="请输入您的手机号" pattern="^1[3-9]\d{9}$" required>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">预约日期</label>
            <input type="date" id="date" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-indigo focus:border-transparent" min="" required>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">体验项目 <span class="text-red-500">*</span></label>
            <select id="project" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-indigo focus:border-transparent" required>
              <option value="" disabled selected>请选择体验项目</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">同行人数</label>
            <input type="number" id="people" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-indigo focus:border-transparent" placeholder="请输入同行人数（含本人）" min="1" value="1" required>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">备注（选填）</label>
            <textarea id="remark" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-indigo focus:border-transparent" rows="2" placeholder="如需双语导览、定制体验等需求，请在此说明"></textarea>
          </div>
        </div>
        <!-- 提交按钮 -->
        <div class="mt-6">
          <button type="submit" class="w-full px-5 py-3 bg-primary-indigo text-white rounded-lg font-semibold hover:bg-indigo-800 transition-colors">提交预约申请</button>
        </div>
      </form>
      <!-- 提交成功提示（默认隐藏） -->
      <div id="successTip" class="hidden text-center py-8">
        <i class="fa fa-check-circle text-4xl text-green-600 mb-3"></i>
        <h4 class="text-lg font-bold text-slate-800 mb-2">预约申请提交成功！</h4>
        <p class="text-slate-600 mb-4">虹织译桥客服将在1个工作日内与您联系确认</p>
        <p class="text-slate-500 text-xs mb-6">温馨提示：支持双语导览、国际游客专属预约服务</p>
        <button onclick="closeModal()" class="px-5 py-2 bg-primary-indigo text-white rounded-lg font-semibold hover:bg-indigo-800 transition-colors">关闭</button>
      </div>
    </div>
  </div>

  <script>
    // 全局变量存储当前选中的工坊名称
    let currentWorkshop = '';

    // 初始化日期最小值为今天
    document.addEventListener('DOMContentLoaded', () => {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('date').min = today;
    });

    // 打开预约弹窗 - 加载对应工坊的体验项目
    function openModal(workshopName) {
      currentWorkshop = workshopName;
      // 更新弹窗标题
      document.getElementById('workshopTitle').textContent = `虹织译桥 - 预约体验·${workshopName}`;
      // 重置表单和提示
      document.getElementById('bookingForm').reset();
      document.getElementById('bookingForm').classList.remove('hidden');
      document.getElementById('successTip').classList.add('hidden');
      // 加载对应工坊的体验项目
      loadWorkshopProjects(workshopName);
      // 显示弹窗
      document.getElementById('bookingModal').classList.remove('hidden');
    }

    // 关闭预约弹窗
    function closeModal() {
      document.getElementById('bookingModal').classList.add('hidden');
    }

    // 加载对应工坊的体验项目 - 严格贴合虹织译桥项目内容
    function loadWorkshopProjects(workshopName) {
      const projectSelect = document.getElementById('project');
      // 清空原有选项，保留默认占位
      projectSelect.innerHTML = '<option value="" disabled selected>请选择体验项目</option>';
      // 定义虹织译桥项目专属的工坊体验项目
      const workshopProjects = {
        '雪域邦典工坊': [
          '邦典色彩纹样文化解码课（90分钟，双语）',
          '古法天然染色工艺体验（120分钟）',
          '非遗匠人面对面交流+手作指导',
          '1小时传统邦典编织体验（一对一）',
        ],
        '高原巧手工坊': [
          '邦典现代创新设计课程（180分钟）',
          '数字邦典设计转实体制作（含线上设计）',
          '全天邦典沉浸式创作体验（含作品定制）',
          '国际游客专属邦典体验套餐（含翻译）'
        ]
      };
      // 动态添加对应工坊的选项
      if (workshopProjects[workshopName]) {
        workshopProjects[workshopName].forEach(project => {
          const option = document.createElement('option');
          option.value = project;
          option.textContent = project;
          projectSelect.appendChild(option);
        });
      }
    }

    // 提交表单处理 - 模拟接口请求
    function submitForm(e) {
      e.preventDefault(); // 阻止默认提交
      // 获取表单数据（实际项目可对接后端接口）
      const formData = {
        workshop: currentWorkshop,
        name: document.getElementById('name').value,
        phone: document.getElementById('phone').value,
        date: document.getElementById('date').value,
        project: document.getElementById('project').value,
        people: document.getElementById('people').value,
        remark: document.getElementById('remark').value
      };
      console.log('虹织译桥预约表单数据：', formData);
      // 模拟表单提交加载
      const submitBtn = e.target.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i> 提交中...';
      // 模拟接口请求延迟
      setTimeout(() => {
        // 隐藏表单，显示成功提示
        document.getElementById('bookingForm').classList.add('hidden');
        document.getElementById('successTip').classList.remove('hidden');
        // 恢复按钮状态
        submitBtn.disabled = false;
        submitBtn.innerHTML = '提交预约申请';
      }, 1200);
    }

    // 点击ESC关闭弹窗
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !document.getElementById('bookingModal').classList.contains('hidden')) {
        closeModal();
      }
    });

    // 阻止弹窗内容点击触发遮罩关闭
    document.getElementById('bookingModal').querySelector('.modal-enter').addEventListener('click', (e) => {
      e.stopPropagation();
    });
  </script>
</body>
</html>